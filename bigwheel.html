<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Canvas Wheel</title>
</head>
<body>
<canvas id="wheel" width="400" height="400"></canvas>
<script>
  var canvas = document.getElementById('wheel');
  var ctx = canvas.getContext('2d');
  var colors = ['#FF0000', '#00FF00', '#0000FF', '#FFFF00'];
  var numSegments = colors.length;
  var angle = 0;
  var spinSpeed = 0;

  function drawWheel() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    var radius = canvas.width / 2 - 10;
    var center = canvas.width / 2;

    for (var i = 0; i < numSegments; i++) {
      ctx.beginPath();
      ctx.moveTo(center, center);
      ctx.arc(center, center, radius, angle, angle + (2 * Math.PI / numSegments), false);
      // ctx.lineTo(center, center);
      ctx.closePath();
      ctx.fillStyle = colors[i];
      ctx.fill();
      angle += (2 * Math.PI / numSegments);
    }

    // 画一个中心圆
    ctx.beginPath();
    ctx.arc(center, center, 20, 0, 2 * Math.PI, false);
    ctx.fillStyle = '#FFFFFF';
    ctx.fill();
  }

  function spinWheel() {
    angle += spinSpeed;
    drawWheel();
    if (spinSpeed > 0) {
      spinSpeed -= 0.001; // 逐渐减速
    }
    requestAnimationFrame(spinWheel);
  }

  canvas.addEventListener('click', function() {
    if (spinSpeed <= 0) {
      spinSpeed = 0.05; // 设置初始旋转速度
    }
  }, false);

  // 初始化转盘
  drawWheel();
  // 启动动画
  spinWheel();
</script>
</body>
</html>
